<template>
  <div class="result">
    <h3>MÃ©tÃ©o actuelle Ã  {{ data.city }}</h3>
    <ul>
      <li>ğŸŒ¡ TempÃ©rature : {{ data.temperature }} Â°C</li>
      <li>ğŸ’¨ Vent : {{ data.windspeed }} km/h</li>
      <li>ğŸ•’ Heure : {{ formatTime(data.time) }}</li>
      <li v-if="weatherData.condition">ğŸŒ¥ï¸ Condition : {{ weatherData.condition }}</li>
      <li>ğŸ§­ Latitude : {{ weatherData.latitude }}</li>
      <li>ğŸ§­ Longitude : {{ weatherData.longitude }}</li>
    </ul>
    <button @click="$emit('save', data.city)">ğŸ’¾ Sauvegarder</button>
  </div>
</template>

<script setup>
defineProps({ data: Object })

function formatTime(dateStr) {
  const date = new Date(dateStr)
  return `${date.toLocaleDateString()} Ã  ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`
}
</script>
